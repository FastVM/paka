
def file_dir(filename) {
    i = 0
    n = file_dir_len(filename)
    ret = []
    while i < n {
        ret = ret ~ [filename[i]]
        i = i + 1
    }
    return ret
}

def file_dir_len(filename) {
    i = length(filename) - 1
    while i >= 0 {
        chr = filename[i]
        if chr == '/' {
            return i
        }
        i = i - 1
    }
}
